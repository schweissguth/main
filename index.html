
<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Stupid-Fast.com</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="robots" content="noindex, nofollow">
    <meta name="googlebot" content="noindex, nofollow">
    <meta name="viewport" content="width=device-width, initial-scale=1">



    <script
      type="text/javascript"
      src="/js/lib/dummy.js"
      
    ></script>

        <link rel="stylesheet" type="text/css" href="https://stupid-fast.com/css.css">
        <script type="text/javascript" src="https://stupid-fast.com/library.js"></script>


    <style id="compiled-css" type="text/css">
      

      /* EOS */
    </style>

    <style type="text/css">
      :root {
        color-scheme: light;
      }
    </style>

    <script id="insert"></script>

  </head>
  <body>
    <center>
  <br /><br />
  <a href="https://stupid-fast.com">
    <img src="https://stupid-fast.com/sfbanner.png" alt="" />
  </a>

  <br />

  <a href="https://stupid-fast.com/picks" class="heading">Click HERE to Make Picks</a>
  <a href="https://www.driveraverages.com/">DriverAverages.com</a>
  <a href="https://stupid-fast.com/results">Results and schedule</a>
  <a href="https://stupid-fast.com/season" class="heading">Season standings</a>

  <br /><br />

  <table id="pickstable" cellpadding="3">
    <tr>
      <th>LOADING...</th>
    </tr>
  </table>

  <br /><br />

  <p id="ptrack"></p>
  <p>
    <span id="pdate"></span> on <span id="ptv"></span> /
    <span id="pradio"></span>
  </p>
  <span id="pstage"></span>
  <span id="pflag"></span>
  <span id="plaps"></span>

  <br /><br />

  <table>
    <tbody id="tlive">
      <tr>
        <th>LOADING...</th>
      </tr>
    </tbody>
  </table>

  <br /><br />

  <table cellpadding="2">
    <thead></thead>
    <tbody id="tfeed">
      <tr>
        <th>LOADING...</th>
      </tr>
    </tbody>
  </table>

</center>

</body>

    <script type="text/javascript">
      getPickorder().then(function(pickers) {
  console.log(pickers)
  pickstable.innerHTML = null
  pickers.forEach(function(picker) {
    let tr = pickstable.insertRow()
    let td = tr.insertCell()
    td.innerHTML = "<b>" + picker.playername + "</b>" + "&nbsp;<small>(" + Math.round(picker.PICKORDER) + ")</small>"
    //let a = document.createElement("A")
    //a.innerHTML = "<b>" + picker.playername + "</b>" + "&nbsp;<small>(" + picker.TOTAL + ")</small>"
    //a.href = "javascript:"
    //a.style.textDecoration = "none"
    //a.onclick = function() {
      //if (confirm("Alert " + picker.playername + " to pick?")) {
        //fetch("https://script.google.com/macros/s/AKfycby3oJXHAF7Nx5rEXCd2Fy3mTdkRKHAkj9L-3m4cz-JMZet2Ug4DELuccc0Re4vfoYk/exec?" + encodeURIComponent(picker.cell))
        //alert("Success")
      //}
    //}
    //td.append(a)
    td = tr.insertCell()
    picker.picks.forEach(function(pick) {
      let div = document.createElement("DIV")
      div.innerText = pick.driver_name
      td.append(div)
    })
  })
})


      

fetch("https://cf.nascar.com/cacher/live/live-feed.json").then(res => res.json()).then(function(res) {
	//console.log(res)
var flag = document.getElementById("pflag")
      switch (res.flag_state) {
        case 8:
          flag.innerHTML = "<big>üè¥ black</big>"
          break;
        case 1:
          flag.innerHTML = "<big>üü¢ green</big>"
          break;
        case 2:
          flag.innerHTML = "<big>üü° caution</big>"
          break;
        case 4:
          flag.innerHTML = "<big>üèÅ checkered</big>"
          break;
        case 9:
          flag.innerHTML = "<big>üèÅ</big>"
          break;
      }
      
      pstage.innerHTML = "Stage " + res.stage.stage_num
      plaps.innerHTML = res.laps_to_go + " laps to go"
      ptrack.innerHTML = res.track_name
			getTV(res.race_id)
})



function getTV(raceid) {
	fetch("https://cf.nascar.com/cacher/2025/race_list_basic.json").then(function(res) {
  	return res.json()
  }).then(function(schedules) {
  	schedules = schedules.series_1
  	console.log(schedules)
    var find = schedules.find(function(schedule) {
    	return schedule.race_id == raceid
    })
    pdate.innerHTML = new Date(find.date_scheduled).toLocaleTimeString().replace(":00 PM", " PM")
    ptv.innerHTML = find.television_broadcaster
    pradio.innerHTML = find.radio_broadcaster
    
  })
}

	    getRunningorder().then(function (runningorder) {
  tlive.innerHTML = null
  runningorder.vehicles.forEach(function (feed) {
    var tr = tlive.insertRow()
    tr.insertCell().innerText = feed.running_position + " "
    tr.insertCell().innerHTML =
      feed.driver.full_name +
      " " +
      "<i><small>-" +
      feed.delta.toFixed(2) +
      "</small></i>"
    tr.insertCell().innerHTML =
      "<b>" +
      (feed.player.name || "") +
      "</b>" +
      " <i><small>" +
      (feed.pts || "") +
      "</small></i>"
  })
})





fetch("https://cf.nascar.com/cacher/live/live-feed.json").then(res => res.json()).then(function(res) {
      getRace(res.race_id)
})



function getRace(raceno) {
fetch("https://cf.nascar.com/cacher/2025/1/" + raceno + "/lap-notes.json").then(function (item) {
        return item.json()
      }).then(function (item) {
        //console.log(item.laps)
            tfeed.innerHTML = null

        for (var i in item.laps) {
          item.laps[i].forEach(function (jtem) {
            var tr = tfeed.insertRow(0)
            tr.insertCell().innerHTML = i
            tr.insertCell().innerHTML = jtem.Note
            
          })

        }
      })
    
}




      
  </script>



</html>
